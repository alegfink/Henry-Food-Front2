{"ast":null,"code":"const {\n  POST_INIT_RECIPES,\n  RESET_PAGE,\n  RESET_SEARCH,\n  SET_TITLE,\n  GET_ALL_RECIPES,\n  GET_RECIPE_DETAIL,\n  RESET_MAX_MIN,\n  DELETE_DETAIL,\n  FILTER_BY_DIET,\n  FILTER_DONE,\n  MAX_PAGE_NUMBER,\n  MIN_PAGE_NUMBER,\n  DELETE_FILTER,\n  SAVE_PAGE,\n  ORDER_BY_NAME,\n  SEARCH_BY_NAME,\n  POST_NEW_RECIPE,\n  GET_ALL_DIETS,\n  ORDER_BY_HEALTHSCORE\n} = require(\"../actions\");\n\nconst initialState = {\n  recipesOk: [],\n  recipes: [],\n  recipeDetail: {},\n  dietFiltered: [],\n  allRecipes: [],\n  recipesSearch: [],\n  allDiets: [],\n  recordedPage: 1,\n  maxPage: 4,\n  minPage: 0,\n  filter: true,\n  title: ''\n};\n\nfunction rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case POST_INIT_RECIPES:\n      return { ...state,\n        recipesOk: action.payload\n      };\n\n    case GET_ALL_RECIPES:\n      return { ...state,\n        // recipes: action.payload,\n        allRecipes: action.payload\n      };\n\n    case GET_RECIPE_DETAIL:\n      return { ...state,\n        recipeDetail: action.payload\n      };\n\n    case DELETE_DETAIL:\n      return { ...state,\n        recipeDetail: {}\n      };\n\n    case FILTER_BY_DIET:\n      const allRecipe = state.allRecipes;\n      let dietFiltered = action.payload === 'All' ? allRecipe : allRecipe.filter(el => {\n        const asd = el.diets.filter(el => el.name === action.payload);\n\n        if (asd.length > 0) {\n          return true;\n        }\n\n        return false;\n      });\n      return { ...state,\n        recipes: dietFiltered\n      };\n\n    case DELETE_FILTER:\n      return { ...state,\n        dietFiltered: []\n      };\n\n    case ORDER_BY_NAME:\n      let arrayOrd = action.payload === 'asc' ? state.recipes.sort((a, b) => {\n        if (a.title > b.title) return 1;\n        if (b.title > a.title) return -1;\n        return 0;\n      }) : state.recipes.sort((a, b) => {\n        if (a.title > b.title) return -1;\n        if (b.title > a.title) return 1;\n        return 0;\n      });\n      return { ...state,\n        recipes: arrayOrd\n      };\n\n    case ORDER_BY_HEALTHSCORE:\n      let arrayLowHigh = action.payload === 'low' ? state.recipes.sort((a, b) => {\n        if (a.healthScore > b.healthScore) return 1;\n        if (b.healthScore > a.healthScore) return -1;\n        return 0;\n      }) : state.recipes.sort((a, b) => {\n        if (a.healthScore > b.healthScore) return -1;\n        if (b.healthScore > a.healthScore) return 1;\n        return 0;\n      });\n      return { ...state,\n        recipes: arrayLowHigh\n      };\n\n    case SEARCH_BY_NAME:\n      return { ...state,\n        recipesSearch: action.payload && action.payload,\n        recipes: action.payload && action.payload\n      };\n\n    case POST_NEW_RECIPE:\n      return { ...state\n      };\n\n    case GET_ALL_DIETS:\n      return { ...state,\n        allDiets: action.payload\n      };\n\n    case SAVE_PAGE:\n      return { ...state,\n        recordedPage: action.payload\n      };\n\n    case MAX_PAGE_NUMBER:\n      return { ...state,\n        maxPage: state.maxPage + action.payload\n      };\n\n    case MIN_PAGE_NUMBER:\n      return { ...state,\n        minPage: state.minPage + action.payload\n      };\n\n    case RESET_MAX_MIN:\n      return { ...state,\n        maxPage: 4,\n        minPage: 0\n      };\n\n    case RESET_PAGE:\n      return { ...state,\n        recordedPage: 1\n      };\n\n    case FILTER_DONE:\n      return { ...state,\n        filter: state.filter ? false : true\n      };\n\n    case RESET_SEARCH:\n      return { ...state,\n        recipes: []\n      };\n\n    case SET_TITLE:\n      return { ...state,\n        title: action.payload\n      };\n\n    default:\n      return state;\n  }\n}\n\nmodule.exports = {\n  rootReducer\n};","map":{"version":3,"names":["POST_INIT_RECIPES","RESET_PAGE","RESET_SEARCH","SET_TITLE","GET_ALL_RECIPES","GET_RECIPE_DETAIL","RESET_MAX_MIN","DELETE_DETAIL","FILTER_BY_DIET","FILTER_DONE","MAX_PAGE_NUMBER","MIN_PAGE_NUMBER","DELETE_FILTER","SAVE_PAGE","ORDER_BY_NAME","SEARCH_BY_NAME","POST_NEW_RECIPE","GET_ALL_DIETS","ORDER_BY_HEALTHSCORE","require","initialState","recipesOk","recipes","recipeDetail","dietFiltered","allRecipes","recipesSearch","allDiets","recordedPage","maxPage","minPage","filter","title","rootReducer","state","action","type","payload","allRecipe","el","asd","diets","name","length","arrayOrd","sort","a","b","arrayLowHigh","healthScore","module","exports"],"sources":["C:/Users/Ale/Desktop/PI-Food-main/client/src/reducer/index.js"],"sourcesContent":["const { POST_INIT_RECIPES, RESET_PAGE, RESET_SEARCH, SET_TITLE, GET_ALL_RECIPES, GET_RECIPE_DETAIL,RESET_MAX_MIN, DELETE_DETAIL, FILTER_BY_DIET, FILTER_DONE, MAX_PAGE_NUMBER, MIN_PAGE_NUMBER, DELETE_FILTER, SAVE_PAGE, ORDER_BY_NAME, SEARCH_BY_NAME, POST_NEW_RECIPE, GET_ALL_DIETS, ORDER_BY_HEALTHSCORE} = require(\"../actions\");\r\n\r\n\r\nconst initialState = {\r\n    recipesOk : [],\r\n    recipes : [],\r\n    recipeDetail: {},\r\n    dietFiltered: [],\r\n    allRecipes: [],\r\n    recipesSearch:[],\r\n    allDiets:[],\r\n    recordedPage:1,\r\n    maxPage:4,\r\n    minPage:0,\r\n    filter: true,\r\n    title:'',\r\n}\r\n\r\nfunction rootReducer (state = initialState, action){\r\n    switch(action.type){\r\n        case POST_INIT_RECIPES:\r\n            return {\r\n                ...state,\r\n                recipesOk: action.payload\r\n            };\r\n        case GET_ALL_RECIPES:\r\n            return{\r\n                ...state,\r\n                // recipes: action.payload,\r\n                allRecipes: action.payload\r\n            };\r\n        case GET_RECIPE_DETAIL:\r\n            \r\n            return{\r\n                ...state,\r\n                recipeDetail: action.payload\r\n            }\r\n        case DELETE_DETAIL:\r\n            \r\n            return{\r\n                ...state,\r\n                recipeDetail:{}\r\n            }\r\n        case FILTER_BY_DIET:\r\n            const allRecipe = state.allRecipes\r\n            \r\n            let dietFiltered = action.payload === 'All'? allRecipe : allRecipe.filter(el=>{\r\n                const asd = el.diets.filter(el=>el.name===action.payload)\r\n                if(asd.length>0){\r\n                    return true\r\n                }\r\n                return false\r\n                })\r\n            \r\n            return{\r\n                ...state,\r\n                recipes: dietFiltered\r\n            }\r\n        case DELETE_FILTER:\r\n            return{\r\n                ...state,\r\n                dietFiltered: []\r\n            }\r\n        case ORDER_BY_NAME:\r\n            \r\n            let arrayOrd = action.payload === 'asc' ?\r\n                state.recipes.sort((a,b)=>{\r\n                    if (a.title>b.title) return 1\r\n                    if (b.title>a.title) return -1\r\n                    return 0\r\n                }):\r\n                state.recipes.sort((a,b)=>{\r\n                    if (a.title>b.title) return -1\r\n                    if (b.title>a.title) return 1\r\n                    return 0\r\n                })\r\n                \r\n            return{\r\n                ...state,\r\n                recipes: arrayOrd,\r\n                \r\n            }\r\n        case ORDER_BY_HEALTHSCORE:\r\n            let arrayLowHigh = action.payload === 'low'?\r\n                state.recipes.sort((a,b)=>{\r\n                    if (a.healthScore>b.healthScore) return 1\r\n                    if (b.healthScore>a.healthScore) return -1 \r\n                    return 0       \r\n                }):\r\n                state.recipes.sort((a,b)=>{\r\n                    if (a.healthScore>b.healthScore) return -1\r\n                    if (b.healthScore>a.healthScore) return 1 \r\n                    return 0 \r\n                })\r\n            return{\r\n                ...state,\r\n                recipes: arrayLowHigh,\r\n                \r\n            }\r\n        case SEARCH_BY_NAME:\r\n            return{\r\n                ...state,\r\n                recipesSearch: action.payload&&action.payload,\r\n                recipes: action.payload&&action.payload\r\n            }\r\n        case POST_NEW_RECIPE:\r\n            \r\n            return{\r\n                ...state\r\n            }\r\n        case GET_ALL_DIETS:\r\n            \r\n            return{\r\n                ...state,\r\n                allDiets: action.payload\r\n            }\r\n        case SAVE_PAGE:\r\n            \r\n            return{\r\n                ...state,\r\n                recordedPage: action.payload\r\n            }\r\n        case MAX_PAGE_NUMBER:\r\n            return {\r\n                ...state,\r\n                maxPage: state.maxPage + action.payload\r\n            }\r\n        case MIN_PAGE_NUMBER:\r\n            return {\r\n                ...state,\r\n                minPage: state.minPage + action.payload\r\n            }\r\n        case RESET_MAX_MIN:\r\n            \r\n            return{\r\n                ...state,\r\n                maxPage:4,\r\n                minPage:0\r\n            }\r\n        case RESET_PAGE:\r\n            return{\r\n                ...state,\r\n                recordedPage:1\r\n            }\r\n        case FILTER_DONE:\r\n            return {\r\n                ...state,\r\n                filter: state.filter? false: true\r\n            }\r\n        case RESET_SEARCH:\r\n            return{\r\n                ...state,\r\n                recipes:[]\r\n            }\r\n        case SET_TITLE:\r\n            return{\r\n                ...state,\r\n                title: action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }        \r\n}\r\n\r\n\r\n\r\nmodule.exports={\r\n    rootReducer\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}