{"ast":null,"code":"const {\n  POST_INIT_RECIPES,\n  GET_ALL_RECIPES,\n  GET_RECIPE_DETAIL,\n  DELETE_DETAIL,\n  FILTER_BY_DIET\n} = require(\"../actions\");\n\nconst initialState = {\n  recipesOk: [],\n  recipes: [],\n  recipeDetail: {}\n};\n\nfunction rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case POST_INIT_RECIPES:\n      return { ...state,\n        recipesOk: action.payload\n      };\n\n    case GET_ALL_RECIPES:\n      return { ...state,\n        recipes: action.payload\n      };\n\n    case GET_RECIPE_DETAIL:\n      // console.log('ENTRA AL REDUCER', action.payload)  \n      return { ...state,\n        recipeDetail: action.payload\n      };\n\n    case DELETE_DETAIL:\n      console.log('ENTRA AL REDUCER');\n      return { ...state,\n        recipeDetail: {}\n      };\n\n    case FILTER_BY_DIET:\n      const allRecipes = state.recipes;\n      console.log('ACTION', action.payload);\n      console.log('ALLRECIP', allRecipes);\n      const dietFiltered = action.payload === 'All' ? allRecipes : allRecipes.filter(el => {\n        // console.log(\"DIETAS\",el.diets)\n        // el.diets.includes({\n        //     \"name\": \"gluten free\"})\n        el.id === 636608; // console.log('PRUEBA', el.diets.includes('lacto ovo vegetarian'))\n      });\n      return { ...state,\n        recipes: dietFiltered\n      };\n\n    default:\n      return state;\n  }\n}\n\nmodule.exports = {\n  rootReducer\n};","map":{"version":3,"names":["POST_INIT_RECIPES","GET_ALL_RECIPES","GET_RECIPE_DETAIL","DELETE_DETAIL","FILTER_BY_DIET","require","initialState","recipesOk","recipes","recipeDetail","rootReducer","state","action","type","payload","console","log","allRecipes","dietFiltered","filter","el","id","module","exports"],"sources":["C:/Users/Ale/Desktop/PI-Food-main/client/src/reducer/index.js"],"sourcesContent":["const { POST_INIT_RECIPES, GET_ALL_RECIPES, GET_RECIPE_DETAIL, DELETE_DETAIL, FILTER_BY_DIET } = require(\"../actions\");\r\n\r\n\r\nconst initialState = {\r\n    recipesOk : [],\r\n    recipes : [],\r\n    recipeDetail: {}\r\n}\r\n\r\nfunction rootReducer (state = initialState, action){\r\n    switch(action.type){\r\n        case POST_INIT_RECIPES:\r\n            return {\r\n                ...state,\r\n                recipesOk: action.payload\r\n            };\r\n        case GET_ALL_RECIPES:\r\n            return{\r\n                ...state,\r\n                recipes: action.payload\r\n            };\r\n        case GET_RECIPE_DETAIL:\r\n            // console.log('ENTRA AL REDUCER', action.payload)  \r\n            return{\r\n                ...state,\r\n                recipeDetail: action.payload\r\n            }\r\n        case DELETE_DETAIL:\r\n            console.log('ENTRA AL REDUCER')\r\n            return{\r\n                ...state,\r\n                recipeDetail:{}\r\n            }\r\n        case FILTER_BY_DIET:\r\n            const allRecipes = state.recipes\r\n            console.log('ACTION',action.payload)\r\n            console.log('ALLRECIP', allRecipes)\r\n            const dietFiltered = action.payload === 'All'? allRecipes : allRecipes.filter(el=>{\r\n                // console.log(\"DIETAS\",el.diets)\r\n                // el.diets.includes({\r\n                //     \"name\": \"gluten free\"})\r\n                el.id === 636608\r\n                \r\n                // console.log('PRUEBA', el.diets.includes('lacto ovo vegetarian'))\r\n            })\r\n            \r\n            return{\r\n                ...state,\r\n                recipes: dietFiltered\r\n            }\r\n        default:\r\n            return state;\r\n    }        \r\n}\r\n\r\n\r\n\r\nmodule.exports={\r\n    rootReducer\r\n}"],"mappings":"AAAA,MAAM;EAAEA,iBAAF;EAAqBC,eAArB;EAAsCC,iBAAtC;EAAyDC,aAAzD;EAAwEC;AAAxE,IAA2FC,OAAO,CAAC,YAAD,CAAxG;;AAGA,MAAMC,YAAY,GAAG;EACjBC,SAAS,EAAG,EADK;EAEjBC,OAAO,EAAG,EAFO;EAGjBC,YAAY,EAAE;AAHG,CAArB;;AAMA,SAASC,WAAT,GAAmD;EAAA,IAA7BC,KAA6B,uEAArBL,YAAqB;EAAA,IAAPM,MAAO;;EAC/C,QAAOA,MAAM,CAACC,IAAd;IACI,KAAKb,iBAAL;MACI,OAAO,EACH,GAAGW,KADA;QAEHJ,SAAS,EAAEK,MAAM,CAACE;MAFf,CAAP;;IAIJ,KAAKb,eAAL;MACI,OAAM,EACF,GAAGU,KADD;QAEFH,OAAO,EAAEI,MAAM,CAACE;MAFd,CAAN;;IAIJ,KAAKZ,iBAAL;MACI;MACA,OAAM,EACF,GAAGS,KADD;QAEFF,YAAY,EAAEG,MAAM,CAACE;MAFnB,CAAN;;IAIJ,KAAKX,aAAL;MACIY,OAAO,CAACC,GAAR,CAAY,kBAAZ;MACA,OAAM,EACF,GAAGL,KADD;QAEFF,YAAY,EAAC;MAFX,CAAN;;IAIJ,KAAKL,cAAL;MACI,MAAMa,UAAU,GAAGN,KAAK,CAACH,OAAzB;MACAO,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBJ,MAAM,CAACE,OAA5B;MACAC,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBC,UAAxB;MACA,MAAMC,YAAY,GAAGN,MAAM,CAACE,OAAP,KAAmB,KAAnB,GAA0BG,UAA1B,GAAuCA,UAAU,CAACE,MAAX,CAAkBC,EAAE,IAAE;QAC9E;QACA;QACA;QACAA,EAAE,CAACC,EAAH,KAAU,MAAV,CAJ8E,CAM9E;MACH,CAP2D,CAA5D;MASA,OAAM,EACF,GAAGV,KADD;QAEFH,OAAO,EAAEU;MAFP,CAAN;;IAIJ;MACI,OAAOP,KAAP;EAzCR;AA2CH;;AAIDW,MAAM,CAACC,OAAP,GAAe;EACXb;AADW,CAAf"},"metadata":{},"sourceType":"module"}